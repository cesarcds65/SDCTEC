<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>VOZETA - App Acessível</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Botão de acessibilidade flutuante -->
    <div class="accessibility-button" onclick="toggleAccessibilityMenu()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-5h10v2H7zm3.3-3.8L8.4 9.3 7 10.7l3.3 3.3L17 7.3l-1.4-1.4z"/>
      </svg>
    </div>
    
    <div class="accessibility-menu" id="accessibilityMenu">
      <div class="font-size-controls">
        <button onclick="changeFontSize('decrease')">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
            <path d="M19 13H5v-2h14v2z"/>
          </svg>
          Diminuir
        </button>
        <button onclick="changeFontSize('increase')">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
          </svg>
          Aumentar
        </button>
      </div>
      <button onclick="toggleVoiceControl()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
          <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"/>
        </svg>
        <span id="voiceControlText">Ativar controle por voz</span>
      </button>
      <div class="voice-control-status" id="voiceControlStatus"></div>
    </div>
    
    <!-- Tela 1 -->
    <div id="tela1" class="container active">
      <div class="icon-container">
        <svg class="icon-sound" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="90" height="90">
          <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
        </svg>
      </div>
      <h1 class="logo">VOZETA</h1>
      <p class="welcome-text">Bem-vindo(a) ao VOZETA!</p>
      <p class="description">Uma plataforma feita para você aprender programação de forma acessível, guiada por voz e adaptada às suas necessidades.</p>
      
      <button onclick="lerTexto()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 10px;">
          <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
        </svg>
        Ativar leitura em voz alta
      </button>
      
      <button onclick="irPara('tela2')">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 10px;">
          <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
        </svg>
        Iniciar cadastro
      </button>
      
      <button onclick="mostrarInfo()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 10px;">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
        </svg>
        O que é o VOZETA?
      </button>
    </div>

    <!-- Tela 2 -->
    <div id="tela2" class="container">
      <h1 class="logo">VOZETA</h1>
      <h2>Iniciar cadastro</h2>

      <label for="nome">Nome</label>
      <input type="text" id="nome" placeholder="Digite seu nome">

      <label for="velocidade">Velocidade da leitura</label>
      <input type="range" id="velocidade" min="0.5" max="2" step="0.1" value="1" oninput="ajustarVelocidade(this.value)">

      <label for="contraste">Contraste da tela</label>
      <input type="range" id="contraste" min="0" max="100" value="50" oninput="ajustarContraste(this.value)">

      <button onclick="validarEAvancar()">Avançar</button>

      <div class="info">
        <div class="info-icon">?</div>
        <div class="info-text">Contraste da tela mais alto pode facilitar a leitura?</div>
      </div>
    </div>

    <!-- Tela 3 -->
    <div id="tela3" class="container">
      <h1 class="logo">VOZETA</h1>
      <div class="speech-box">
        <p>Para começar, vou te guiar pelos conceitos básicos de HTML, CSS e JavaScript.</p>
      </div>
      
      <div class="icon-container">
        <div class="icon-code"></div>
      </div>
      
      <div class="button-group">
        <button onclick="irPara('tela4')">Continuar</button>
        <button onclick="irPara('telaDesenvolver')" class="develop-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 10px;">
            <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
          </svg>
          Desenvolver agora
        </button>
      </div>
    </div>

    <!-- Tela de Desenvolvimento HTML -->
    <div id="telaDesenvolver" class="container">
      <div class="dev-container">
        <div class="dev-header">
          <button class="menu-button" onclick="toggleDevMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
            </svg>
          </button>
          <h2 class="dev-title">Desenvolvimento HTML</h2>
          <button class="menu-button" onclick="irPara('tela3')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
            </svg>
          </button>
        </div>
        
        <div class="dev-menu" id="devMenu">
          <button onclick="novoArquivo()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
              <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
            </svg>
            Novo
          </button>
          <button onclick="abrirArquivo()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
              <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/>
            </svg>
            Abrir
          </button>
          <button onclick="salvarArquivo()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
              <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
            </svg>
            Salvar
          </button>
          <button onclick="ajudaHTML()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
            </svg>
            Ajuda
          </button>
        </div>
        
        <div class="editor-container">
          <textarea id="htmlEditor" class="editor" spellcheck="false" placeholder="Digite seu código HTML aqui..."><!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minha Página HTML</title>
  <style>
    /* Adicione seu CSS aqui */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
  </style>
</head>
<body>
  <!-- Adicione seu conteúdo aqui -->
  <h1>Minha Primeira Página HTML</h1>
  <p>Este é um parágrafo de exemplo.</p>
  
  <script>
    // Adicione seu JavaScript aqui
    console.log("Olá, mundo!");
  </script>
  <script src="script.js"></script>
</body>
</html></textarea>
          
          <div class="preview-container" id="previewContainer">
            <iframe id="previewFrame" class="preview-frame"></iframe>
          </div>
          
          <div class="dev-actions">
            <button onclick="testarCodigo()">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
                <path d="M8 5v14l11-7z"/>
              </svg>
              Testar
            </button>
            <button onclick="togglePreview()">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 5px;">
                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
              </svg>
              Visualizar
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Tela 4 (Nova) -->
    <div id="tela4" class="container">
      <h1 class="logo">VOZETA</h1>
      <h2>Conceitos Básicos</h2>
      
      <div class="concept-section">
        <p class="concept-title">HTML - Estrutura</p>
        <p>HTML é a linguagem de marcação que define a estrutura do seu conteúdo web.</p>
        <div class="concept-code">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Minha página&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Olá mundo!&lt;/h1&gt;
    &lt;p&gt;Este é um parágrafo.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</div>
      </div>
      
      <div class="concept-section">
        <p class="concept-title">CSS - Estilo</p>
        <p>CSS é a linguagem que estiliza e formata os elementos HTML.</p>
        <div class="concept-code">body {
  background-color: #f0f0f0;
  font-family: Arial, sans-serif;
}

h1 {
  color: blue;
  text-align: center;
}</div>
      </div>
      
      <div class="concept-section">
        <p class="concept-title">JavaScript - Interatividade</p>
        <p>JavaScript permite adicionar comportamento e interatividade à página.</p>
        <div class="concept-code">// Função para mostrar uma mensagem
function mostrarMensagem() {
  alert('Olá! Bem-vindo ao mundo da programação!');
}

// Adicionar evento de clique a um botão
document.getElementById('meuBotao').addEventListener(
  'click', mostrarMensagem
);</div>
      </div>
      
      <button onclick="voltarParaTela3()">Voltar</button>
      <button onclick="proximaLicao()">Próxima Lição</button>
      
      <div class="database-status">
        <p>Progresso salvo no banco de dados</p>
      </div>
    </div>
  </div>

  
</body>
</html>`;
        toggleDevMenu();
      }
    }
    
    function salvarArquivo() {
      const codigo = document.getElementById('htmlEditor').value;
      const nomeArquivo = prompt('Digite um nome para o arquivo:', 'minha_pagina.html');
      
      if (nomeArquivo) {
        // Salva no localStorage
        localStorage.setItem(`vozeta_html_${nomeArquivo}`, codigo);
        
        // Atualiza a lista de arquivos salvos
        const arquivosSalvos = JSON.parse(localStorage.getItem('vozeta_arquivos_salvos') || '[]');
        if (!arquivosSalvos.includes(nomeArquivo)) {
          arquivosSalvos.push(nomeArquivo);
          localStorage.setItem('vozeta_arquivos_salvos', JSON.stringify(arquivosSalvos));
        }
        
        alert(`Arquivo ${nomeArquivo} salvo com sucesso!`);
        toggleDevMenu();
      }
    }
    
    function abrirArquivo() {
      const arquivosSalvos = JSON.parse(localStorage.getItem('vozeta_arquivos_salvos') || '[]');
      
      if (arquivosSalvos.length === 0) {
        alert('Nenhum arquivo salvo encontrado.');
        return;
      }
      
      const listaArquivos = arquivosSalvos.map((nome, index) => `${index + 1}. ${nome}`).join('\n');
      const escolha = prompt(`Escolha um arquivo para abrir:\n${listaArquivos}`);
      
      if (escolha && !isNaN(escolha) && escolha > 0 && escolha <= arquivosSalvos.length) {
        const nomeArquivo = arquivosSalvos[escolha - 1];
        const codigo = localStorage.getItem(`vozeta_html_${nomeArquivo}`);
        
        if (codigo) {
          document.getElementById('htmlEditor').value = codigo;
          alert(`Arquivo ${nomeArquivo} aberto com sucesso!`);
          toggleDevMenu();
        } else {
          alert('Erro ao abrir o arquivo.');
        }
      }
    }
    
    function ajudaHTML() {
      alert(`Dicas rápidas de HTML:
      
1. Estrutura básica:
   <!DOCTYPE html>
   <html>
     <head>
       <title>Título da página</title>
     </head>
     <body>
       <!-- Conteúdo aqui -->
     </body>
   </html>

2. Tags comuns:
   <h1> a <h6> - Títulos
   <p> - Parágrafos
   <a href="url"> - Links
   <img src="imagem.jpg"> - Imagens
   <ul> e <li> - Listas
   <div> - Divisões/contêineres
   
3. Comandos de voz disponíveis:
   "Testar" - Executa o código
   "Visualizar" - Mostra/esconde a visualização
   "Salvar" - Salva o arquivo
   "Abrir" - Abre um arquivo salvo
   "Novo" - Cria um novo arquivo
   "Menu" - Abre o menu
   "Voltar" - Retorna à tela anterior`);
      
      toggleDevMenu();
    }

    // Funções de integração com banco de dados simulado
    function salvarDadosUsuario() {
      console.log(`Salvando dados do usuário: ${nomeUsuario}`);
      
      // Adiciona ao banco de dados simulado
      bancoDeDados.usuarios.push({
        nome: nomeUsuario,
        data_cadastro: new Date().toISOString()
      });
      
      console.log('Usuários cadastrados:', bancoDeDados.usuarios);
      
      // Simulação de API para banco de dados real
      fetch('https://api.vozeta.com/usuarios', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          nome: nomeUsuario,
          data_cadastro: new Date().toISOString()
        })
      }).catch(erro => {
        console.log('Erro ao salvar dados (simulação):', erro);
      });
    }

    function salvarPreferenciasUsuario() {
      if (!nomeUsuario) return;
      
      const preferencias = {
        usuario: nomeUsuario,
        velocidade_fala: velocidadeFala,
        contraste: document.getElementById('contraste').value,
        data_atualizacao: new Date().toISOString()
      };
      
      // Atualiza ou adiciona preferências no banco de dados simulado
      const index = bancoDeDados.preferencias.findIndex(p => p.usuario === nomeUsuario);
      if (index >= 0) {
        bancoDeDados.preferencias[index] = preferencias;
      } else {
        bancoDeDados.preferencias.push(preferencias);
      }
      
      console.log('Preferências atualizadas:', preferencias);
      
      // Simulação de API para banco de dados real
      fetch('https://api.vozeta.com/preferencias', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(preferencias)
      }).catch(erro => {
        console.log('Erro ao salvar preferências (simulação):', erro);
      });
    }

    function registrarNavegacao(tela) {
      if (!nomeUsuario) return;
      
      const navegacao = {
        usuario: nomeUsuario,
        tela: tela,
        timestamp: new Date().toISOString()
      };
      
      // Adiciona ao banco de dados simulado
      bancoDeDados.navegacao.push(navegacao);
      
      console.log('Navegação registrada:', navegacao);
      
      // Simulação de API para banco de dados real
      fetch('https://api.vozeta.com/navegacao', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(navegacao)
      }).catch(erro => {
        console.log('Erro ao registrar navegação (simulação):', erro);
      });
    }

    function salvarProgressoUsuario() {
      if (!nomeUsuario) return;
      
      const progresso = {
        usuario: nomeUsuario,
        aulas_concluidas: progressoUsuario.aulas_concluidas,
        ultimo_acesso: new Date().toISOString()
      };
      
      // Atualiza ou adiciona progresso no banco de dados simulado
      const index = bancoDeDados.progresso.findIndex(p => p.usuario === nomeUsuario);
      if (index >= 0) {
        bancoDeDados.progresso[index] = progresso;
      } else {
        bancoDeDados.progresso.push(progresso);
      }
      
      console.log('Progresso salvo:', progresso);
      
      // Simulação de API para banco de dados real
      fetch('https://api.vozeta.com/progresso', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(progresso)
      }).catch(erro => {
        console.log('Erro ao salvar progresso (simulação):', erro);
      });
    }

    // Inicialização
    document.addEventListener('DOMContentLoaded', function() {
      // Carrega as vozes disponíveis (necessário em alguns navegadores)
      if ('speechSynthesis' in window) {
        window.speechSynthesis.onvoiceschanged = function() {
          window.speechSynthesis.getVoices();
        };
      }
      
      // Inicializa os sliders com aparência correta
      document.querySelectorAll('input[type="range"]').forEach(slider => {
        const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;
        slider.style.background = `linear-gradient(to right, var(--primary-color) ${value}%, var(--bg-color) ${value}%)`;
        
        slider.addEventListener('input', function() {
          const value = (this.value - this.min) / (this.max - this.min) * 100;
          this.style.background = `linear-gradient(to right, var(--primary-color) ${value}%, var(--bg-color) ${value}%)`;
        });
      });
    });
  </script>
</body>
</html>
